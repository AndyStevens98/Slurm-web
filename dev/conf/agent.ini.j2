[service]
cluster={{ cluster_name }}
cors=yes
port={{ service_port }}

[jwt]
key={{ jwt_key }}

[slurmrestd]
socket={{ slurmrestd_socket }}

[policy]
definition=conf/vendor/policy.yml
roles={{ policy_path }}

[racksdb]
{% if cluster_name == 'pocket' %}
enabled=no
{% endif %}
db=dev/firehpc/db
schema=../RacksDB/schemas/racksdb.yml
drawings_schema=../RacksDB/schemas/drawings.yml
tags=compute
{% if infrastructure %}
infrastructure={{ infrastructure }}
{% endif %}

[cache]
enabled={{ cache_enabled }}
port={{ redis_port }}
password={{ redis_password }}

{% if cluster_name != "pocket" %}
[metrics]
enabled=yes
host=http://localhost:{{ prometheus_port }}
{% endif %}
